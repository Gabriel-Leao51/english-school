import './polyfills.server.mjs';
import{a as D}from"./chunk-Y2XTMLBF.mjs";import{a as j}from"./chunk-IMMMZWSA.mjs";import{a as O,b as u,c as P,d as w,f as I,h as N,i as T,k as q,l as k,m as z}from"./chunk-2Z63PRNR.mjs";import{n as F}from"./chunk-QZK6HHLT.mjs";import{$a as i,Bc as S,H as h,Ja as l,Ka as p,W as M,Za as s,db as a,eb as n,fb as g,i as x,kb as C,lb as _,lc as y,sb as d,u as b,wb as E}from"./chunk-OBIY6IM3.mjs";function G(t,c){t&1&&(a(0,"div"),d(1," Nome \xE9 obrigat\xF3rio "),n())}function V(t,c){if(t&1&&(a(0,"div",16),s(1,G,2,0,"div",17),n()),t&2){let e,o=_();l(),i("ngIf",(e=o.cadastroForm.get("name"))==null?null:e.hasError("required"))}}function A(t,c){t&1&&(a(0,"div"),d(1," Email \xE9 obrigat\xF3rio "),n())}function B(t,c){t&1&&(a(0,"div"),d(1," Email inv\xE1lido "),n())}function R(t,c){if(t&1&&(a(0,"div",16),s(1,A,2,0,"div",17)(2,B,2,0,"div",17),n()),t&2){let e,o,r=_();l(),i("ngIf",(e=r.cadastroForm.get("email"))==null?null:e.hasError("required")),l(),i("ngIf",(o=r.cadastroForm.get("email"))==null?null:o.hasError("email"))}}function H(t,c){t&1&&(a(0,"div"),d(1," Senha \xE9 obrigat\xF3ria "),n())}function J(t,c){if(t&1&&(a(0,"div",16),s(1,H,2,0,"div",17),n()),t&2){let e,o=_();l(),i("ngIf",(e=o.cadastroForm.get("password"))==null?null:e.hasError("required"))}}var rt=(()=>{class t{constructor(e,o,r,m){this.fb=e,this.authService=o,this.router=r,this.toastr=m,this.showModal=!1,this.errorMessage="",this.cadastroForm=this.fb.group({name:["",u.required],email:["",[u.required,u.email]],password:["",u.required]})}openModal(){this.showModal=!0}closeModal(e){let o=document.getElementById(e);o&&(o.style.display="none")}onSubmit(){this.cadastroForm.valid&&this.authService.cadastrar(this.cadastroForm.value).pipe(h(()=>{this.toastr.success("Cadastro realizado com sucesso!","Sucesso"),this.closeModal("cadastroModal"),window.location.reload()}),b(e=>(console.error("Erro ao cadastrar usu\xE1rio:",e),this.toastr.error(e.error?.error||"Erro ao cadastrar. Verifique os dados.","Erro"),x(null)))).subscribe()}static{this.\u0275fac=function(o){return new(o||t)(p(q),p(z),p(F),p(D))}}static{this.\u0275cmp=M({type:t,selectors:[["app-cadastro"]],standalone:!0,features:[E],decls:26,vars:6,consts:[["id","cadastroModal",3,"closed","isOpen"],["id","cadastroModal",1,"modal"],[1,"modal-content"],[1,"container","mt-3"],[1,"row","justify-content-center"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","name","email",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(o,r){if(o&1&&(a(0,"app-modal",0),C("closed",function(){return r.showModal=!1}),a(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),d(7,"Cadastro"),n(),a(8,"form",6),C("ngSubmit",function(){return r.onSubmit()}),a(9,"div",7)(10,"label",8),d(11,"Nome:"),n(),g(12,"input",9),s(13,V,2,1,"div",10),n(),a(14,"div",7)(15,"label",11),d(16,"Email:"),n(),g(17,"input",12),s(18,R,3,2,"div",10),n(),a(19,"div",7)(20,"label",13),d(21,"Senha:"),n(),g(22,"input",14),s(23,J,2,1,"div",10),n(),a(24,"button",15),d(25," Cadastrar "),n()()()()()()()()),o&2){let m,f,v;i("isOpen",r.showModal),l(8),i("formGroup",r.cadastroForm),l(5),i("ngIf",((m=r.cadastroForm.get("name"))==null?null:m.touched)&&((m=r.cadastroForm.get("name"))==null?null:m.invalid)),l(5),i("ngIf",((f=r.cadastroForm.get("email"))==null?null:f.touched)&&((f=r.cadastroForm.get("email"))==null?null:f.invalid)),l(5),i("ngIf",((v=r.cadastroForm.get("password"))==null?null:v.touched)&&((v=r.cadastroForm.get("password"))==null?null:v.invalid)),l(),i("disabled",!r.cadastroForm.valid)}},dependencies:[k,I,O,P,w,N,T,y,S,j],styles:[".modal-content[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,var(--cor-primaria-transparente-leve),var(--cor-fundo-alternativa-transparente-leve));border:none;border-radius:8px;box-shadow:0 4px 10px #00000080;padding:30px}.close[_ngcontent-%COMP%]{color:var(--cor-texto-primaria);opacity:.8;transition:opacity .2s;position:relative;top:10px;right:15px}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{opacity:1}h2[_ngcontent-%COMP%]{color:var(--cor-texto-primaria);font-size:2rem;margin-bottom:40px;text-align:center}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem;display:flex;flex-direction:column;align-items:center}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:-20px;left:50%;transform:translate(-50%);background-color:transparent;color:var(--cor-texto-primaria);padding:0 5px;font-size:1rem;pointer-events:none;transition:all .2s ease-in-out}.form-control[_ngcontent-%COMP%]{background-color:var(--cor-fundo);border:1px solid var(--cor-texto-secundaria);color:var(--cor-texto-primaria);border-radius:4px;padding:10px}.form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #293d714d}.form-control[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{top:-10px;font-size:.7rem;color:var(--cor-primaria)}.btn-primary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{background-color:var(--cor-secundaria);border-color:var(--cor-secundaria);color:var(--cor-fundo);padding:10px 30px;font-weight:700;transition:background-color .3s;border-radius:4px;display:block;margin:0 auto}.btn-primary[_ngcontent-%COMP%]:hover, .btn-success[_ngcontent-%COMP%]:hover{background-color:#c89f2f;border-color:#c89f2f;color:var(--cor-texto-primaria);cursor:pointer}a[_ngcontent-%COMP%]{color:var(--cor-destaque-1);text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.text-danger[_ngcontent-%COMP%]{color:var(--cor-destaque-2);font-size:.8rem;margin-top:5px}"]})}}return t})();export{rt as a};
